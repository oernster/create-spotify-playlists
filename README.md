# create-spotify-playlists v1.0
# Create spotify playlists from local music sources

## What does it do?

## It retrieves your local music from the paramater FLAC_DIRECTORY = "L:\\Storage\\FLACMusic" (my location).
## This assumes you have ripped all your CDs to FLAC or whatever e.g. mp3 and all the directories inside that directory are labelled by artist name.
## It then interrogates the musicbrainz API to retrieve artists with a best match of artist name and retrieves the genre and related artists as lists.
## It then uses the Spotify API to create numbered playlists based on genres from the artists after shuffling them (their top tracks) and these will appear in your Spotify App.
### If you bork the run, then I have written a script to delete ALL playlists which is located in the utils directory amongst other utilities.
### However, bear in mind that this will ALSO DELETE any existing playlists you have in Spotify so use with ***CAUTION*** or craft the delete script to your liking. 

# USAGE:

## Install Python 3: https://www.python.org/ (latest)

## Install git for windows (I suspect linux/mac will work fine too but I haven't tested them): https://gitforwindows.org/

## Create a Spotify Developer API app after signing up to Spotify: Read the Getting started section and ignore the rest.
### https://developer.spotify.com/documentation/web-api

## Create a MusicBrainz account: https://musicbrainz.org/

## Hit the Windows icon and launch power shell or terminal.

### Run the following commands:

```git clone https://github.com/oernster/create-spotify-playlists.git```

### This will create a directory called 'create-spotify-playlists' where you are currently located.

## Run these commands:

```cd create-spotify-playlists```

```pip install virtualenv```

```pip install --upgrade pip```

```pip install -r requirements.txt```

### Edit spotify_client.py to use the credentials obtained by creating a Spotify Developer API App.
### You'll need to enter the client id and client secret.

### Edit brainz.py to specify your email.

### Edit FLAC_DIRECTORY the variable in playlist_gen.py to meet your needs.

### Adjust the line ```def fetch_top_tracks(self, artist_id, country="UK"):``` to country="US" if appropriate or your country in spotify_client.py.

# To run:

```python playlist_gen.py```

# NOTE: You will need to authorize your token generated by OAuth in the browser in order to run the app at initialisation.
# A token lasts about an hour; maybe slightly longer.  If the script doesn't initialise, delete the .cache file in this directory and retry.

## If you want to use any of my utility functions in the utils directory then each script will need the client_id and client_secret as well.
